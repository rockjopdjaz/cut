<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Оптимальный раскрой стального проката</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#374151'
                    }
                }
            }
        }
    </script>
    <style>
        .print-content {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        @media print {
            body * {
                visibility: hidden;
            }
            .print-content, .print-content * {
                visibility: visible;
            }
            .print-content {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
    <div id="app" class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">
                Оптимальный раскрой стального проката
            </h1>
            <p class="text-gray-600">
                Расчет эффективного использования линейных изделий с минимальными отходами
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Input Panel -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                            <i class="fas fa-cog text-blue-600"></i>
                            Параметры раскроя
                        </h2>
                        <button id="resetBtn" class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors" title="Сбросить форму">
                            <i class="fas fa-undo"></i>
                        </button>
                    </div>

                    <!-- Stock Length -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Длина заготовки (мм)
                        </label>
                        <input type="number" id="stockLength" value="6000" min="100"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>

                    <!-- Cut Width -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Ширина реза (мм)
                        </label>
                        <input type="number" id="cutWidth" value="3" min="0" step="0.1"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>

                    <!-- Algorithm Selection -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Алгоритм оптимизации
                        </label>
                        <select id="algorithm" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="firstFit">First Fit Decreasing</option>
                            <option value="bestFit">Best Fit Decreasing</option>
                        </select>
                    </div>

                    <!-- Import Section -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Импорт данных (Длина Количество)
                        </label>
                        <textarea id="importText" placeholder="1200 2&#10;1500 3&#10;800 5"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent h-24 resize-none"></textarea>
                        <button id="importBtn" class="mt-2 flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm">
                            <i class="fas fa-upload"></i>
                            Импортировать
                        </button>
                    </div>

                    <!-- Cuts List -->
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-3">
                            <label class="block text-sm font-medium text-gray-700">
                                Требуемые детали
                            </label>
                            <button id="addCutBtn" class="flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm">
                                <i class="fas fa-plus"></i>
                                Добавить
                            </button>
                        </div>

                        <div id="cutsList" class="space-y-3 max-h-64 overflow-y-auto">
                            <!-- Cuts will be added here dynamically -->
                        </div>
                    </div>

                    <!-- Export Buttons -->
                    <div class="space-y-2">
                        <button id="exportPDFBtn" class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium">
                            <i class="fas fa-file-pdf"></i>
                            Экспортировать в PDF
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-6">
                        Результаты оптимизации
                    </h2>

                    <!-- Statistics -->
                    <div id="statistics" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <!-- Stats will be populated here -->
                    </div>

                    <!-- Grouped Cutting Plan -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-800">План раскроя (сгруппированный):</h3>
                        <div id="cuttingPlan" class="space-y-4">
                            <!-- Cutting plan will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hidden print content -->
        <div id="printContent" class="print-content hidden">
            <div class="header text-center mb-8">
                <h1 class="text-3xl font-bold text-blue-900 mb-4">Оптимальный раскрой стального проката</h1>
                <p class="text-gray-700">Расчет эффективного использования линейных изделий с минимальными отходами</p>
            </div>
            <!-- Print content will be populated here -->
        </div>
    </div>

    <script>
        // State management
        let state = {
            stockLength: 6000,
            cuts: [{ length: 1200, quantity: 2 }],
            cutWidth: 3,
            algorithm: 'firstFit',
            importText: ''
        };

        // DOM Elements
        const elements = {
            stockLength: document.getElementById('stockLength'),
            cutWidth: document.getElementById('cutWidth'),
            algorithm: document.getElementById('algorithm'),
            importText: document.getElementById('importText'),
            cutsList: document.getElementById('cutsList'),
            statistics: document.getElementById('statistics'),
            cuttingPlan: document.getElementById('cuttingPlan'),
            resetBtn: document.getElementById('resetBtn'),
            importBtn: document.getElementById('importBtn'),
            addCutBtn: document.getElementById('addCutBtn'),
            exportPDFBtn: document.getElementById('exportPDFBtn'),
            printContent: document.getElementById('printContent')
        };

        // Initialize the app
        function init() {
            renderCuts();
            updateResults();
            
            // Event listeners
            elements.stockLength.addEventListener('input', () => {
                state.stockLength = parseInt(elements.stockLength.value) || 6000;
                // Validate and adjust cuts if necessary
                validateAndAdjustCuts();
                renderCuts();
                updateResults();
            });
            
            elements.cutWidth.addEventListener('input', () => {
                state.cutWidth = parseFloat(elements.cutWidth.value) || 0;
                updateResults();
            });
            
            elements.algorithm.addEventListener('change', () => {
                state.algorithm = elements.algorithm.value;
                updateResults();
            });
            
            elements.importText.addEventListener('input', (e) => {
                state.importText = e.target.value;
            });
            
            elements.resetBtn.addEventListener('click', resetForm);
            elements.importBtn.addEventListener('click', importFromText);
            elements.addCutBtn.addEventListener('click', addCut);
            elements.exportPDFBtn.addEventListener('click', exportToPDF);
        }

        // Add a new cut
        function addCut() {
            // Set default length to half of stock length or 1000, whichever is smaller
            const defaultLength = Math.min(1000, Math.floor(state.stockLength / 2));
            state.cuts.push({ length: defaultLength, quantity: 1 });
            renderCuts();
            updateResults();
        }

        // Remove a cut
        function removeCut(index) {
            if (state.cuts.length > 1) {
                state.cuts.splice(index, 1);
                renderCuts();
                updateResults();
            }
        }

        // Update a cut with validation
        function updateCut(index, field, value) {
            const numValue = Number(value);
            if (field === 'length') {
                // Ensure length doesn't exceed stock length and is at least 1
                const validatedLength = Math.max(1, Math.min(numValue, state.stockLength));
                state.cuts[index][field] = validatedLength;
            } else if (field === 'quantity') {
                // Ensure quantity is at least 1
                state.cuts[index][field] = Math.max(1, numValue);
            }
            updateResults();
        }

        // Validate and adjust cuts when stock length changes
        function validateAndAdjustCuts() {
            state.cuts = state.cuts.map(cut => ({
                ...cut,
                length: Math.min(cut.length, state.stockLength)
            }));
        }

        // Render cuts list
        function renderCuts() {
            elements.cutsList.innerHTML = '';
            state.cuts.forEach((cut, index) => {
                const cutElement = document.createElement('div');
                cutElement.className = 'flex items-center gap-2 p-3 bg-gray-50 rounded-lg';
                // Add error class if length equals stock length (edge case)
                const lengthError = cut.length >= state.stockLength ? 'border-red-300 bg-red-50' : '';
                cutElement.innerHTML = `
                    <div class="flex-1 grid grid-cols-2 gap-2">
                        <div>
                            <label class="block text-xs text-gray-600 mb-1">Длина (мм)</label>
                            <input type="number" data-index="${index}" data-field="length" value="${cut.length}" min="1" max="${state.stockLength}"
                                class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent cut-input ${lengthError}">
                            ${cut.length >= state.stockLength ? '<p class="text-xs text-red-600 mt-1">Макс. длина заготовки</p>' : ''}
                        </div>
                        <div>
                            <label class="block text-xs text-gray-600 mb-1">Кол-во</label>
                            <input type="number" data-index="${index}" data-field="quantity" value="${cut.quantity}" min="1"
                                class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent cut-input">
                        </div>
                    </div>
                    ${state.cuts.length > 1 ? 
                        `<button class="p-1 text-red-500 hover:bg-red-50 rounded transition-colors remove-cut-btn" data-index="${index}">
                            <i class="fas fa-minus"></i>
                        </button>` : ''}
                `;
                elements.cutsList.appendChild(cutElement);
            });

            // Add event listeners to new inputs
            document.querySelectorAll('.cut-input').forEach(input => {
                input.addEventListener('input', (e) => {
                    const index = parseInt(e.target.dataset.index);
                    const field = e.target.dataset.field;
                    updateCut(index, field, e.target.value);
                });
                
                // Handle paste events
                input.addEventListener('paste', (e) => {
                    setTimeout(() => {
                        const index = parseInt(e.target.dataset.index);
                        const field = e.target.dataset.field;
                        updateCut(index, field, e.target.value);
                    }, 10);
                });
            });

            document.querySelectorAll('.remove-cut-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('button').dataset.index);
                    removeCut(index);
                });
            });
        }

        // Reset form
        function resetForm() {
            state = {
                stockLength: 6000,
                cuts: [{ length: 1200, quantity: 2 }],
                cutWidth: 3,
                algorithm: 'firstFit',
                importText: ''
            };
            elements.stockLength.value = state.stockLength;
            elements.cutWidth.value = state.cutWidth;
            elements.algorithm.value = state.algorithm;
            elements.importText.value = state.importText;
            renderCuts();
            updateResults();
        }

        // Import from text with validation
        function importFromText() {
            if (!state.importText.trim()) return;
            
            try {
                const lines = state.importText.trim().split('\n');
                const newCuts = [];
                
                for (const line of lines) {
                    const trimmedLine = line.trim();
                    if (!trimmedLine) continue;
                    
                    const values = trimmedLine.split(/[,;\s\t]+/).filter(v => v !== '');
                    
                    if (values.length >= 2) {
                        let length = parseInt(values[0]);
                        const quantity = parseInt(values[1]);
                        
                        // Validate length against stock length
                        if (length > state.stockLength) {
                            length = state.stockLength;
                        }
                        
                        if (!isNaN(length) && !isNaN(quantity) && length > 0 && quantity > 0) {
                            newCuts.push({ length, quantity });
                        }
                    }
                }
                
                if (newCuts.length > 0) {
                    state.cuts = newCuts;
                    renderCuts();
                    updateResults();
                }
            } catch (error) {
                alert('Ошибка при импорте данных. Проверьте формат ввода.');
            }
        }

        // First Fit Decreasing algorithm
        function firstFitDecreasing(items, stockLength, cutWidth) {
            const pieces = [];
            items.forEach(item => {
                for (let i = 0; i < item.quantity; i++) {
                    pieces.push(item.length);
                }
            });
            
            pieces.sort((a, b) => b - a);
            
            const stocks = [];
            const remaining = [];
            
            pieces.forEach(piece => {
                let placed = false;
                
                for (let i = 0; i < stocks.length; i++) {
                    if (remaining[i] >= piece) {
                        stocks[i].push(piece);
                        remaining[i] -= piece + cutWidth;
                        placed = true;
                        break;
                    }
                }
                
                if (!placed) {
                    stocks.push([piece]);
                    remaining.push(stockLength - piece - cutWidth);
                }
            });
            
            return stocks;
        }

        // Best Fit Decreasing algorithm
        function bestFitDecreasing(items, stockLength, cutWidth) {
            const pieces = [];
            items.forEach(item => {
                for (let i = 0; i < item.quantity; i++) {
                    pieces.push(item.length);
                }
            });
            
            pieces.sort((a, b) => b - a);
            
            const stocks = [];
            const remaining = [];
            
            pieces.forEach(piece => {
                let bestFitIndex = -1;
                let minSpace = Infinity;
                
                for (let i = 0; i < stocks.length; i++) {
                    if (remaining[i] >= piece && remaining[i] - piece < minSpace) {
                        minSpace = remaining[i] - piece;
                        bestFitIndex = i;
                    }
                }
                
                if (bestFitIndex !== -1) {
                    stocks[bestFitIndex].push(piece);
                    remaining[bestFitIndex] -= piece + cutWidth;
                } else {
                    stocks.push([piece]);
                    remaining.push(stockLength - piece - cutWidth);
                }
            });
            
            return stocks;
        }

        // Optimize cutting
        function optimizeCutting() {
            if (state.algorithm === 'firstFit') {
                return firstFitDecreasing(state.cuts, state.stockLength, state.cutWidth);
            } else {
                return bestFitDecreasing(state.cuts, state.stockLength, state.cutWidth);
            }
        }

        // Group identical cutting patterns
        function groupCuttingPlan(cuttingPlan) {
            const patternMap = new Map();
            
            cuttingPlan.forEach(stock => {
                const sortedStock = [...stock].sort((a, b) => a - b);
                const patternKey = sortedStock.join(',');
                
                if (patternMap.has(patternKey)) {
                    patternMap.get(patternKey).count++;
                } else {
                    patternMap.set(patternKey, {
                        pieces: sortedStock,
                        count: 1
                    });
                }
            });
            
            return Array.from(patternMap.values());
        }

        // Update results display
        function updateResults() {
            const cuttingPlan = optimizeCutting();
            const groupedCuttingPlan = groupCuttingPlan(cuttingPlan);
            
            const totalRequiredLength = state.cuts.reduce((sum, cut) => sum + cut.length * cut.quantity, 0);
            const totalUsedLength = cuttingPlan.reduce((sum, stock) => {
                const used = stock.reduce((s, piece) => s + piece, 0);
                const cutsCount = Math.max(0, stock.length - 1);
                return sum + used + cutsCount * state.cutWidth;
            }, 0);
            const waste = cuttingPlan.reduce((sum, stock) => {
                const used = stock.reduce((s, piece) => s + piece, 0);
                const cutsCount = Math.max(0, stock.length - 1);
                return sum + (state.stockLength - used - cutsCount * state.cutWidth);
            }, 0);
            const efficiency = totalRequiredLength / totalUsedLength * 100;
            
            // Update statistics
            elements.statistics.innerHTML = `
                <div class="bg-blue-50 p-4 rounded-lg text-center">
                    <div class="text-2xl font-bold text-blue-600">${cuttingPlan.length}</div>
                    <div class="text-sm text-gray-600">Заготовок использовано</div>
                </div>
                <div class="bg-green-50 p-4 rounded-lg text-center">
                    <div class="text-2xl font-bold text-green-600">${waste}</div>
                    <div class="text-sm text-gray-600">Общий остаток (мм)</div>
                </div>
                <div class="bg-purple-50 p-4 rounded-lg text-center">
                    <div class="text-2xl font-bold text-purple-600">${totalRequiredLength}</div>
                    <div class="text-sm text-gray-600">Требуемая длина (мм)</div>
                </div>
                <div class="bg-orange-50 p-4 rounded-lg text-center">
                    <div class="text-2xl font-bold text-orange-600">${efficiency.toFixed(1)}%</div>
                    <div class="text-sm text-gray-600">Эффективность</div>
                </div>
            `;
            
            // Update cutting plan
            elements.cuttingPlan.innerHTML = '';
            groupedCuttingPlan.forEach((group, groupIndex) => {
                const totalPieces = group.pieces.reduce((sum, piece) => sum + piece, 0);
                const cutsCount = Math.max(0, group.pieces.length - 1);
                const wasteStock = state.stockLength - totalPieces - cutsCount * state.cutWidth;
                
                const planElement = document.createElement('div');
                planElement.className = 'border border-gray-200 rounded-lg p-4';
                planElement.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-medium text-gray-800">
                            Тип раскроя ${groupIndex + 1}
                        </h4>
                        <div class="text-right">
                            <div class="text-sm font-medium text-blue-600">
                                ${group.count} шт.
                            </div>
                            <div class="text-xs text-gray-600">
                                Остаток: ${wasteStock} мм/заготовка
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-2 flex-wrap">
                        ${group.pieces.map((piece, pieceIndex) => `
                            <div class="px-3 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium">
                                ${piece} мм
                            </div>
                            ${pieceIndex < group.pieces.length - 1 ? 
                                `<div class="px-2 py-1 bg-gray-200 text-gray-600 rounded text-xs">
                                    ${state.cutWidth} мм
                                </div>` : ''}
                        `).join('')}
                    </div>
                `;
                elements.cuttingPlan.appendChild(planElement);
            });
        }

        // Export to PDF (using browser print functionality)
        function exportToPDF() {
            const cuttingPlan = optimizeCutting();
            const groupedCuttingPlan = groupCuttingPlan(cuttingPlan);
            
            const totalRequiredLength = state.cuts.reduce((sum, cut) => sum + cut.length * cut.quantity, 0);
            const totalUsedLength = cuttingPlan.reduce((sum, stock) => {
                const used = stock.reduce((s, piece) => s + piece, 0);
                const cutsCount = Math.max(0, stock.length - 1);
                return sum + used + cutsCount * state.cutWidth;
            }, 0);
            const waste = cuttingPlan.reduce((sum, stock) => {
                const used = stock.reduce((s, piece) => s + piece, 0);
                const cutsCount = Math.max(0, stock.length - 1);
                return sum + (state.stockLength - used - cutsCount * state.cutWidth);
            }, 0);
            const efficiency = totalRequiredLength / totalUsedLength * 100;
            
            // Build print content
            let printHTML = `
                <div class="header text-center mb-8">
                    <h1 class="text-3xl font-bold text-blue-900 mb-4">Оптимальный раскрой стального проката</h1>
                    <p class="text-gray-700">Расчет эффективного использования линейных изделий с минимальными отходами</p>
                </div>

                <div class="section mb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-3">Исходные данные</h2>
                    <p><strong>Длина заготовки:</strong> ${state.stockLength} мм</p>
                    <p><strong>Ширина реза:</strong> ${state.cutWidth} мм</p>
                    <p><strong>Алгоритм:</strong> ${state.algorithm === 'firstFit' ? 'First Fit Decreasing' : 'Best Fit Decreasing'}</p>
                </div>

                <div class="section mb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-3">Требуемые детали</h2>
                    <table class="w-full border-collapse mb-4">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2 text-left">№</th>
                                <th class="border px-4 py-2 text-left">Длина (мм)</th>
                                <th class="border px-4 py-2 text-left">Количество (шт.)</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${state.cuts.map((cut, index) => `
                                <tr>
                                    <td class="border px-4 py-2">${index + 1}</td>
                                    <td class="border px-4 py-2">${cut.length}</td>
                                    <td class="border px-4 py-2">${cut.quantity}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>

                <div class="section mb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-3">Итоговая статистика</h2>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                        <div class="bg-blue-50 p-4 rounded-lg text-center">
                            <div class="text-xl font-bold text-blue-600">${cuttingPlan.length}</div>
                            <div class="text-sm text-gray-600">Заготовок использовано</div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg text-center">
                            <div class="text-xl font-bold text-green-600">${waste}</div>
                            <div class="text-sm text-gray-600">Общий остаток (мм)</div>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg text-center">
                            <div class="text-xl font-bold text-purple-600">${totalRequiredLength}</div>
                            <div class="text-sm text-gray-600">Требуемая длина (мм)</div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg text-center">
                            <div class="text-xl font-bold text-orange-600">${efficiency.toFixed(1)}%</div>
                            <div class="text-sm text-gray-600">Эффективность</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="text-xl font-semibold text-gray-800 mb-3">План раскроя (сгруппированный)</h2>
                    ${groupedCuttingPlan.map((group, index) => {
                        const totalPieces = group.pieces.reduce((sum, piece) => sum + piece, 0);
                        const cutsCount = Math.max(0, group.pieces.length - 1);
                        const wasteStock = state.stockLength - totalPieces - cutsCount * state.cutWidth;
                        
                        return `
                            <div class="border border-gray-200 rounded-lg p-4 mb-4">
                                <div class="flex justify-between mb-3">
                                    <strong>Тип раскроя ${index + 1}</strong>
                                    <span>Количество: ${group.count} шт.</span>
                                </div>
                                <div class="flex flex-wrap gap-2 mb-2">
                                    ${group.pieces.map((piece, pieceIndex) => `
                                        <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded text-sm">
                                            ${piece} мм
                                        </span>
                                        ${pieceIndex < group.pieces.length - 1 ? 
                                            `<span class="px-2 py-1 bg-gray-200 text-gray-600 rounded text-xs">
                                                ${state.cutWidth} мм
                                            </span>` : ''}
                                    `).join('')}
                                </div>
                                <div>
                                    <strong>Остаток на заготовку:</strong> ${wasteStock} мм
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
            
            elements.printContent.innerHTML = printHTML;
            elements.printContent.classList.remove('hidden');
            
            // Trigger print
            window.print();
            
            // Hide print content after printing
            setTimeout(() => {
                elements.printContent.classList.add('hidden');
            }, 1000);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>


